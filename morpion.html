<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Morpion</title>
  </head>
  <body>
        <!--TODO Faire les elements de manière dynamique-->
    <!--<img id="Grille" src="MorpionGrille.png" onload="Affichage()">
    <div class="">

    </div>-->
    <script type="text/javascript">
      Joueur = 1;


      class Tableau {
        constructor() {
          this.largeur = 3;
          this.hauteur = 3;
          this.element = document.getElementById("Grille");
          this.element.style.position = "absolute";

          // Création de la table
          this.Table = [];
          for (var i = 0; i < this.largeur; i++) {
            this.Table[i] = [];
            for (var y = 0; y < this.hauteur; y++) {
              this.Table[i][y] = 0;
            }
          }
        }

        ClearTable(){
          for (var i = 0; i < this.largeur; i++) {
            for (var y = 0; y < this.hauteur; y++) {
              this.Table[i][y] = 0;
            }
          }
        }

        PoserElement(joueur, posL, posH){
          this.Table[posL][posH] = joueur;
        }

        /*
        * Returne True si le joueur à gagné
        * @param {[int]} joueur Le joueur dont vous voulez vérifiez la victoire
        * @return {[bool]}
         */
        CheckVictoire(joueur){
          for (var i = 0; i < this.largeur; i++) {
            if ((this.Table[i][0] == joueur) && (this.Table[i][1] == joueur) && (this.Table[i][2] == joueur)) {
              return true;
            }
          }

          for (var i = 0; i < this.hauteur; i++) {
            if ((this.Table[0][i] == joueur) && (this.Table[1][i] == joueur) && (this.Table[2][i] == joueur)) {
              return true;
            }
          }

          if ((this.Table[0][0] == joueur) && (this.Table[1][1] == joueur) && (this.Table[2][2] == joueur)) {
            return true;
          }
          if ((this.Table[2][0] == joueur) && (this.Table[1][1] == joueur) && (this.Table[0][2] == joueur)) {
            return true;
          }

          return false;
        }

        AffichageElement(){
          var hauteurFenetre = window.innerHeight;
          var largeurFenetre = window.innerWidth;


          this.element.style.left = (largeurFenetre/2)-this.element.style.width;
          this.element.style.top = (hauteurFenetre/2)-this.element.style.height;
        }
      }

      table = new Tableau();


      function Affichage(){
          setInterval(table.AffichageElement, 100);
      }

      function Tour(){
        if (joueur == 1) {
          joueur = 2;
        }
        else {
          joueur = 1;
        }
      }


      table.PoserElement(Joueur, 2, 2);

    </script>

  </body>
</html>
