<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Morpion</title>
  </head>
  <body>
    <script type="text/javascript">
      Joueur = 1;

      function CreateurImg(Id, Src, Emplacement = document.body){
        var img = document.createElement("IMG");
        img.id = Id;
        img.src = Src;

        if (typeof(Emplacement) !== "string") {
          Emplacement.appendChild(img);
        }
        else {
          document.getElementById(Emplacement).appendChild(img);
        }

        return document.getElementById(Id);
      }

      function CreateurDiv(Id, Emplacement = document.body){
        var div = document.createElement("DIV");
        div.id = Id;

        if (typeof(Emplacement) !== "string") {
          Emplacement.appendChild(div);
        }
        else {
          document.getElementById(Emplacement).appendChild(div);
        }

        return document.getElementById(Id);
      }

      var tableau = {
        grille: CreateurImg("Grille", "MorpionGrille.png"),
        table:  [[0,0,0],
                [0,0,0],
                [0,0,0]],
        left: this.grille.style.left,
        top: this.grille.style.top,
        ClearTable: function(){
          for (var i = 0; i < this.table.length; i++) {
            for (var y = 0; y < this.table[i].length; y++) {
              array[i][y] = 0;
            }
          }
        },
        PoserJeton: function(x,y,joueur){
          this.table[x][y] = joueur;
        },
        CheckVictoire: function(joueur){
          for (var i = 0; i < this.table.length; i++) {
            if ((this.Table[i][0] == joueur) && (this.Table[i][1] == joueur) && (this.Table[i][2] == joueur)) {
              return true;
            }
          }

          for (var i = 0; i < this.table.length; i++) {
            if ((this.Table[0][i] == joueur) && (this.Table[1][i] == joueur) && (this.Table[2][i] == joueur)) {
              return true;
            }
          }

          if ((this.Table[0][0] == joueur) && (this.Table[1][1] == joueur) && (this.Table[2][2] == joueur)) {
            return true;
          }
          if ((this.Table[2][0] == joueur) && (this.Table[1][1] == joueur) && (this.Table[0][2] == joueur)) {
            return true;
          }

          return false;
        }
      };

      function DetermineEtPlace(element){
        tableau.PoserJeton(Number(element.id.replace("img", "")[0]), Number(element.id.replace("img", "")[1]), Joueur);
      }

      for (var i = 0; i < tableau.table.length; i++) {
        for (var y = 0; y < tableau.table[i].length; y++) {
          CreateurImg("img"+i.toString()+y.toString(), "").onclick = "DetermineEtPlace(this)";
        }
      }

      function TourSuivant(){
        if (Joueur == 1) {
          Joueur = 2;
        }
        else {
          Joueur = 1;
        }
      }

    </script>

  </body>
</html>
